(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},18566,(e,a,t)=>{a.exports=e.r(76562)},95187,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={callServer:function(){return l.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var r in s)Object.defineProperty(t,r,{enumerable:!0,get:s[r]});let l=e.r(32120),n=e.r(92245),i=e.r(35326)},50581,e=>{"use strict";var a=e.i(95187);let t=(0,a.createServerReference)("00a26aa4c3a5962b0a0bbc37353b22e29acb27ad7d",a.callServer,void 0,a.findSourceMapURL,"getPackages");e.s(["getPackages",()=>t])},31116,e=>{"use strict";e.i(47167);var a=e.i(43476),t=e.i(71645),s=e.i(95187);let r=(0,s.createServerReference)("404f39c2a5262027a5816a44dca05a6f113d484041",s.callServer,void 0,s.findSourceMapURL,"createOrder");var l=e.i(50581),n=e.i(57688),i=e.i(18566);function d(){return(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{className:"h-96 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full"})}),children:(0,a.jsx)(o,{})})}function o(){let e=(0,i.useSearchParams)().get("pkg"),[s,d]=(0,t.useState)([]),[o,c]=(0,t.useState)(!0),[u,x]=(0,t.useState)(!1),[m,b]=(0,t.useState)(""),[p,h]=(0,t.useState)(null),[f,g]=(0,t.useState)(""),[j,v]=(0,t.useState)(""),[N,k]=(0,t.useState)(""),[w,y]=(0,t.useState)(""),[S,P]=(0,t.useState)(""),[C,O]=(0,t.useState)("");(0,t.useEffect)(()=>{(0,l.getPackages)().then(a=>{if(d(a),c(!1),e){let t=a.find(a=>a.id===e);t&&t.stock>0&&h(t)}})},[e]);let $=async e=>{if(e.preventDefault(),!p||!f||!j||!N)return void b("Harap isi semua field wajib (*)");if(p.stock<=0)return void b("Paket yang dipilih sedang habis stok.");x(!0),b("");let a=await r({packageId:p.id,itemName:f,mlbbId:j,serverId:N,nickname:w,note:S,waNumber:C});if(a.success&&a.orderCode){let e=`Halo Toro Store, saya mau order gift skin MLBB.
Order: ${a.orderCode}
Paket: ${a.packageName}
Nama Skin/Event: ${f}
ID: ${j}
Server: ${N}
Nickname: ${w||"-"}
Catatan: ${S||"-"}
Terima kasih.`,t=`https://wa.me/6281234567890?text=${encodeURIComponent(e)}`;window.open(t,"_blank"),window.location.href="/order-success"}else b(a.error||"Terjadi kesalahan sistem"),x(!1)},R=p&&p.stock<=0;return(0,a.jsxs)("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-2xl p-6 md:p-8 shadow-2xl backdrop-blur-sm relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),(0,a.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Form Pemesanan"}),m&&(0,a.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-4 rounded-xl mb-6 text-sm flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-exclamation"})," ",m]}),(0,a.jsxs)("form",{onSubmit:$,className:"space-y-6 relative z-10",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"text-sm font-bold text-blue-400 uppercase tracking-wider flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-5 h-5 rounded-full bg-blue-500/20 text-blue-400 text-xs flex items-center justify-center",children:"1"}),"Pilih Paket"]}),o?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-24 bg-neutral-800 rounded-xl animate-pulse"},e))}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:s.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>h(e.id===p?.id?null:e),disabled:e.stock<=0,className:`relative text-left p-4 rounded-xl border transition-all group overflow-hidden ${p?.id===e.id?"border-blue-500 bg-blue-500/10":e.stock<=0?"border-neutral-800 bg-neutral-900/50 opacity-50 cursor-not-allowed":"border-neutral-700 bg-neutral-900/50 hover:border-neutral-500"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[e.imageUrl&&(0,a.jsx)("div",{className:"relative w-12 h-12 rounded-lg overflow-hidden shrink-0 bg-neutral-800",children:(0,a.jsx)(n.default,{src:e.imageUrl,alt:e.name,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("span",{className:"font-bold text-sm truncate",children:e.name}),(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-800 text-neutral-400",children:e.category})]}),(0,a.jsx)("div",{className:"text-amber-400 font-bold text-sm mt-0.5",children:e.price})]})]}),(0,a.jsxs)("div",{className:`mt-2 text-xs font-medium ${0===e.stock?"text-red-400":e.stock<=5?"text-amber-400":"text-emerald-400"}`,children:[(0,a.jsx)("i",{className:"fa-solid fa-circle text-[6px] mr-1 align-middle"}),0===e.stock?"Habis":e.stock<=5?`Sisa ${e.stock} slot`:`${e.stock} slot tersedia`]}),p?.id===e.id&&(0,a.jsx)("div",{className:"absolute top-3 right-3 w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:(0,a.jsx)("i",{className:"fa-solid fa-check text-white text-[10px]"})})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"text-sm font-bold text-blue-400 uppercase tracking-wider flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-5 h-5 rounded-full bg-blue-500/20 text-blue-400 text-xs flex items-center justify-center",children:"2"}),"Nama Skin / Event"]}),(0,a.jsx)("input",{type:"text",value:f,onChange:e=>g(e.target.value),placeholder:"Contoh: Chou KOF, Starlight Juli...",className:"w-full bg-neutral-950/60 border border-neutral-700 rounded-xl p-3.5 text-white placeholder-neutral-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all outline-none"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"text-sm font-bold text-blue-400 uppercase tracking-wider flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-5 h-5 rounded-full bg-blue-500/20 text-blue-400 text-xs flex items-center justify-center",children:"3"}),"Data Akun MLBB"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-neutral-400",children:"User ID *"}),(0,a.jsx)("input",{type:"number",value:j,onChange:e=>v(e.target.value),placeholder:"12345678",className:"w-full bg-neutral-950/60 border border-neutral-700 rounded-xl p-3.5 text-white placeholder-neutral-600 focus:border-blue-500 transition-all outline-none font-mono text-sm"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-neutral-400",children:"Zone ID *"}),(0,a.jsx)("input",{type:"number",value:N,onChange:e=>k(e.target.value),placeholder:"1234",className:"w-full bg-neutral-950/60 border border-neutral-700 rounded-xl p-3.5 text-white placeholder-neutral-600 focus:border-blue-500 transition-all outline-none font-mono text-sm"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-neutral-400",children:["Nickname ",(0,a.jsx)("span",{className:"text-neutral-600",children:"(opsional)"})]}),(0,a.jsx)("input",{type:"text",value:w,onChange:e=>y(e.target.value),placeholder:"Toro Gaming",className:"w-full bg-neutral-950/60 border border-neutral-700 rounded-xl p-3.5 text-white placeholder-neutral-600 focus:border-blue-500 transition-all outline-none text-sm"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-neutral-400",children:["No. WA ",(0,a.jsx)("span",{className:"text-neutral-600",children:"(opsional)"})]}),(0,a.jsx)("input",{type:"tel",value:C,onChange:e=>O(e.target.value),placeholder:"0812xxxx",className:"w-full bg-neutral-950/60 border border-neutral-700 rounded-xl p-3.5 text-white placeholder-neutral-600 focus:border-blue-500 transition-all outline-none font-mono text-sm"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-neutral-400",children:["Catatan ",(0,a.jsx)("span",{className:"text-neutral-600",children:"(opsional)"})]}),(0,a.jsx)("textarea",{value:S,onChange:e=>P(e.target.value),placeholder:"Pesan khusus untuk admin...",rows:3,className:"w-full bg-neutral-950/60 border border-neutral-700 rounded-xl p-3.5 text-white placeholder-neutral-600 focus:border-blue-500 transition-all outline-none resize-none text-sm"})]}),p&&(0,a.jsxs)("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-xl p-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-neutral-400",children:"Paket dipilih:"}),(0,a.jsx)("span",{className:"font-bold",children:p.name})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,a.jsx)("span",{className:"text-neutral-400",children:"Harga:"}),(0,a.jsx)("span",{className:"font-bold text-amber-400",children:p.price})]})]}),R?(0,a.jsxs)("div",{className:"bg-amber-500/10 border border-amber-500/20 text-amber-400 p-4 rounded-xl text-sm text-center",children:[(0,a.jsx)("i",{className:"fa-solid fa-triangle-exclamation mr-2"}),"Paket habis — hubungi admin untuk Pre-Order.",(0,a.jsx)("a",{href:`https://wa.me/6281234567890?text=Halo admin, saya mau PO paket ${p.name}`,target:"_blank",rel:"noreferrer",className:"block mt-2 bg-amber-500 hover:bg-amber-400 text-neutral-950 font-bold px-4 py-2 rounded-lg transition",children:"Pre-Order via WhatsApp →"})]}):(0,a.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-blue-500 hover:bg-blue-400 disabled:opacity-50 text-neutral-950 font-bold py-4 px-6 rounded-xl transition-all shadow-lg shadow-blue-500/20 flex justify-center items-center gap-2 group",children:u?(0,a.jsx)("span",{className:"animate-pulse",children:"Memproses..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fa-brands fa-whatsapp text-xl"}),"Kirim Order ke WhatsApp",(0,a.jsx)("i",{className:"fa-solid fa-arrow-right ml-1 group-hover:translate-x-1 transition-transform"})]})}),(0,a.jsx)("p",{className:"text-xs text-center text-neutral-600",children:"Dengan klik tombol di atas, Anda setuju dengan syarat Toro Store."})]})]})}e.s(["CheckoutForm",()=>d],31116)}]);