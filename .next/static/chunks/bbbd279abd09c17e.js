(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57489,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(95187);let r=(0,s.createServerReference)("0003e24c72119d99d60e6b08897eee34e39314d8d6",s.callServer,void 0,s.findSourceMapURL,"getAdminOrders"),l=(0,s.createServerReference)("607a4ba007ad35822c250f276d7b610909fc4e837d",s.callServer,void 0,s.findSourceMapURL,"updateOrderStatus"),n={NEW:"bg-blue-500/10 text-blue-400 border-blue-500/30",CONFIRMED:"bg-amber-500/10 text-amber-400 border-amber-500/30",DONE:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",CANCELED:"bg-red-500/10 text-red-400 border-red-500/30"};function i(){let[e,s]=(0,a.useState)([]),[i,d]=(0,a.useState)(!0),[c,o]=(0,a.useState)(null),[x,m]=(0,a.useState)("ALL");(0,a.useEffect)(()=>{u()},[]);let u=async()=>{d(!0),s(await r()),d(!1)},h=async(e,t)=>{o(e);let a=await l(e,t);a.success?await u():alert(a.error),o(null)},p="ALL"===x?e:e.filter(e=>e.status===x);return i?(0,t.jsx)("div",{className:"flex items-center justify-center py-24",children:(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 border-b border-white/5 pb-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Data Order"}),(0,t.jsxs)("p",{className:"text-neutral-400 mt-1",children:[e.length," total pesanan masuk"]})]}),(0,t.jsxs)("button",{onClick:u,className:"inline-flex items-center gap-2 bg-neutral-800 hover:bg-neutral-700 px-4 py-2.5 rounded-xl transition-colors text-sm font-medium shrink-0",children:[(0,t.jsx)("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:["ALL","NEW","CONFIRMED","DONE","CANCELED"].map(a=>(0,t.jsx)("button",{onClick:()=>m(a),className:`px-4 py-1.5 rounded-full text-sm font-semibold transition-all ${x===a?"ALL"===a?"bg-white text-neutral-950":`${n[a]} border`:"bg-neutral-800 text-neutral-500 hover:text-white"}`,children:"ALL"===a?`Semua (${e.length})`:`${a} (${e.filter(e=>e.status===a).length})`},a))}),(0,t.jsx)("div",{className:"bg-[#0d0f17] border border-white/5 rounded-2xl overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse min-w-[900px]",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-white/5",children:[(0,t.jsx)("th",{className:"p-4 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Order"}),(0,t.jsx)("th",{className:"p-4 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Detail Game"}),(0,t.jsx)("th",{className:"p-4 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Pesanan"}),(0,t.jsx)("th",{className:"p-4 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"p-4 text-xs font-semibold text-neutral-500 uppercase tracking-wider text-right",children:"Aksi"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-white/5",children:[p.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[(0,t.jsxs)("td",{className:"p-4 align-top",children:[(0,t.jsx)("div",{className:"font-mono text-sm text-blue-400 font-bold",children:e.orderCode}),(0,t.jsx)("div",{className:"text-xs text-neutral-600 mt-1",children:new Date(e.createdAt).toLocaleString("id-ID")})]}),(0,t.jsxs)("td",{className:"p-4 align-top",children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"ID:"})," ",(0,t.jsx)("span",{className:"font-mono",children:e.mlbbId})," ",(0,t.jsxs)("span",{className:"text-neutral-600",children:["(",e.serverId,")"]})]}),e.nickname&&(0,t.jsx)("div",{className:"text-sm mt-1 text-neutral-400",children:e.nickname}),e.waNumber&&(0,t.jsx)("div",{className:"text-xs mt-1 text-neutral-600 font-mono",children:e.waNumber})]}),(0,t.jsxs)("td",{className:"p-4 align-top",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-amber-400",children:e.package?.name??(0,t.jsx)("span",{className:"text-neutral-600 italic",children:"Paket dihapus"})}),(0,t.jsx)("div",{className:"text-sm text-neutral-300 mt-0.5",children:e.itemName}),e.package?.category&&(0,t.jsx)("div",{className:"text-xs text-neutral-600 mt-1",children:e.package.category})]}),(0,t.jsx)("td",{className:"p-4 align-top",children:(0,t.jsxs)("select",{value:e.status,disabled:c===e.id,onChange:t=>h(e.id,t.target.value),className:`text-xs font-bold rounded-lg px-3 py-2 border appearance-none cursor-pointer outline-none transition-all ${n[e.status]} ${c===e.id?"opacity-50 cursor-wait":""}`,children:[(0,t.jsx)("option",{value:"NEW",children:"NEW"}),(0,t.jsx)("option",{value:"CONFIRMED",children:"CONFIRMED"}),(0,t.jsx)("option",{value:"DONE",children:"DONE"}),(0,t.jsx)("option",{value:"CANCELED",children:"CANCELED"})]})}),(0,t.jsx)("td",{className:"p-4 align-top text-right",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,t.jsx)("button",{onClick:()=>{let t;return t=`Halo kak ${e.nickname||""},

Order #${e.orderCode} (${e.package?.name??""}) untuk skin/event "${e.itemName}" sudah kami proses ya.

Terima kasih sudah percayakan ke Toro Store! ðŸŽ®`,void(navigator.clipboard.writeText(t),alert("Template balasan disalin!"))},className:"w-8 h-8 flex items-center justify-center bg-neutral-800 hover:bg-neutral-700 rounded-lg border border-neutral-700 transition text-neutral-400 hover:text-white",title:"Copy template WA",children:(0,t.jsx)("i",{className:"fa-regular fa-copy text-xs"})}),e.waNumber&&(0,t.jsx)("a",{href:`https://wa.me/${e.waNumber}`,target:"_blank",className:"w-8 h-8 flex items-center justify-center bg-[#25d366]/10 hover:bg-[#25d366]/20 rounded-lg border border-[#25d366]/20 text-[#25d366] transition",children:(0,t.jsx)("i",{className:"fa-brands fa-whatsapp text-xs"})})]})})]},e.id)),0===p.length&&(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:5,className:"p-16 text-center",children:[(0,t.jsx)("i",{className:"fa-solid fa-inbox text-4xl text-neutral-700 mb-3 block"}),(0,t.jsx)("p",{className:"text-neutral-500",children:"Tidak ada order dengan filter ini."})]})})]})]})})})]})}e.s(["default",()=>i],57489)}]);